@{
    Layout = "_UserLayout";
}

<div class="card">
    <div class="card-body">
        <h5 class="card-title">Password</h5>
        @Html.ValidationSummary()
        <form onsubmit="return confirm('Do you really want to submit the form?');" method="post" action="/User/ChangePassword">
            <div class="mb-3">
                <label class="form-label" for="inputPasswordCurrent">Current password</label>
                <div class="input-group mb-2 me-sm-2">
                    <div class="input-group-text" id="current" onclick="change('current')">
                        <i class="fas fa-eye" id="currentLogo"></i>
                    </div>
                    <input type="password" class="form-control" id="currentpassword" name="CurrentPassword">
                </div>
                <small><a href="@Url.Action("ResetPassword","User")">Forgot your password?</a></small>
            </div>
            <div class="mb-3">
                <label class="form-label" for="inputPasswordNew">New password</label>
                <div class="input-group mb-2 me-sm-2">
                    <div class="input-group-text" onclick="change('new')">
                        <i class="fas fa-eye" id="newLogo"></i>
                    </div>
                    <input type="password" class="form-control" id="newpassword" name="NewPassword">
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label" for="inputPasswordNew2">Verify password</label>
                <div class="input-group mb-2 me-sm-2" >
                    <div class="input-group-text" onclick="change('confirm')">
                        <i class="fas fa-eye" id="confirmLogo"></i>
                    </div>
                    <input type="password" class="form-control" id="confirmpassword" name="ConfirmPassword">
                </div>
            </div>
            <i></i>
            <button type="submit" class="btn btn-primary">Save changes</button>
        </form>
    </div>
</div>

@section Scripts{

    <script type="text/javascript">
        function change(btn) {
            var button = document.getElementById(btn);
            var textInputId=btn+'password';
            var text = document.getElementById(textInputId);
            if(text.type=="password"){
                text.type="text";
                var logo = document.getElementById(btn+"Logo");
                logo.className="fas fa-eye-slash";

            }
            else{
                text.type="password";
                var logo = document.getElementById(btn+"Logo");
                logo.className = "fas fa-eye";
            }
        }
    </script>
   
}